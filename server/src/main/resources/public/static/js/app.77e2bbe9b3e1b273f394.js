webpackJsonp([1],{"1g00":function(t,e){},"7zck":function(t,e){},NHnr:function(t,e,a){"use strict";function i(t){a("1g00")}function n(t){a("VqMT")}Object.defineProperty(e,"__esModule",{value:!0});var o=a("7+uW"),r=(a("uTBe"),a("3EgV")),l=a.n(r),s=(a("7zck"),a("ViGO"),a("mtWM")),c=a.n(s),d="";d=window.location.origin+"/api/";var u=d,m=u,v=c.a.create({baseURL:m,timeout:!1,params:{}}),f={getData:function(t){return v.get(t)},getWithParams:function(t,e){return v.get(t,{params:e})},postData:function(t,e){return v.post(t,e)},putData:function(t,e){return v.put(t,e)},deleteData:function(t){return v.delete(t)}},g=a("NYxO"),h={name:"Crud-spark"},p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{light:""}},[a("keep-alive",[a("router-view")],1)],1)},_=[],x={render:p,staticRenderFns:_},b=x,k=a("VU/8"),I=i,C=k(h,b,!1,I,"data-v-1f301014",null),D=C.exports,w=a("/ocq"),y=a("woOf"),T=a.n(y),P={name:"crud_funcionario",data:function(){return{valid:!1,dialog:!1,search:"",rowsPerPageText:"Registros por pagina",loading:!0,rowsPerPageItems:[5,15,25,50,100],pagination:{descending:!0},alertDialog:!1,alertDialogText:"",alertDialogTitle:"",alert:!1,text:"",timeout:6e3,color:"",totalItems:0,headers:[{text:"Nome",align:"left",value:"nome",sortable:!1},{text:"Sobrenome",align:"left",value:"sobrenome",sortable:!1},{text:"Email",align:"left",value:"email",sortable:!1},{text:"NIS (PIS)",align:"left",value:"nis",sortable:!1},{text:"",value:"",sortable:!1}],employees:[],editedIndex:-1,editedItem:{idFuncionario:0,nome:"",sobreNome:"",email:"",nis:""},defaultItem:{idFuncionario:0,nome:"",sobreNome:"",email:"",nis:""},rules:{notEmpty:function(t){return!!t||"Campo Obrigatorio."},nomeLenght:function(t){return t&&0!==t.trim().length&&t.length>30?"Tamanho maximo é 30 caracteres.":!(t&&0!==t.trim().length&&t.length<2)||"Tamanho minimo é 2 caracteres."},sobrenomeLenght:function(t){return t&&0!==t.trim().length&&t.length>30?"Tamanho maximo é 50 caracteres.":!(t&&0!==t.trim().length&&t.length<2)||"Tamanho minimo é 2 caracteres."},email:function(t){var e=/^[a-z0-9][a-z0-9-_\\.]+@([a-z]|[a-z0-9]?[a-z0-9-]+[a-z0-9])\.[a-z0-9]{2,10}(?:\.[a-z]{2,10})?$/;return!(t&&0!==t.trim().length&&!e.test(t))||"Informe um email valido."},nisLenght:function(t){return!(t&&0!==t.trim().length&&t.length<11)||"NIS (PIS) deve conter 11 digitos."}}}},computed:{formTitle:function(){return-1===this.editedIndex?"Novo funcionario":"Editar funcionario"}},watch:{dialog:function(t){t||this.close()},pagination:{handler:function(){this.initialize()},deep:!0},search:{handler:function(){this.initialize()}}},methods:{initialize:function(){var t=this;this.loading=!0;var e=this.pagination,a=e.sortBy,i=e.descending,n=e.page,o=e.rowsPerPage,r={term:this.search,sortBy:a,descending:i,page:n,rowsPerPage:o};this.api.getWithParams("employees",r).then(function(e){t.employees=e.data.employees,t.pagination.sortBy&&(t.employees=t.employees.sort(function(t,e){var n=t[a],o=e[a];return i?n<o?1:n>o?-1:0:n<o?-1:n>o?1:0})),t.totalItems=e.data.total,t.loading=!1},function(e){t.loading=!1,console.log(e)})},editItem:function(t){this.editedIndex=this.employees.indexOf(t),this.editedItem=T()({},t),this.dialog=!0},deleteItem:function(t){var e=this;this.openDialog("Deseja remover esse registro?","",function(){e.api.deleteData("employee/"+t.idFuncionario.toString()).then(function(t){e.initialize(),e.alert=!0,e.text="Registro removido com sucesso.",e.color="success"},function(t){e.alert=!0,e.text="Não foi possivel remover o registro.",e.color="error",console.log(t)})})},close:function(){var t=this;this.dialog=!1,setTimeout(function(){t.$refs.form.reset(),t.editedItem=T()({},t.defaultItem),t.editedIndex=-1},300)},save:function(){var t=this;if(this.$refs.form.validate()){var e=this.editedItem;e.idFuncionario?this.api.putData("employee/"+e.idFuncionario.toString(),e).then(function(e){t.initialize()},function(t){console.log(t)}):this.api.postData("employee",e).then(function(e){t.initialize()},function(e){t.showMessage(e.response.data)}),this.close()}},openDialog:function(t,e,a,i){this.alertDialog=!0,this.alertDialogText=t,this.alertDialogTitle=e,a&&(this.confirmCallback=a),i&&(this.cancelCallback=i)},confirmCallback:function(){},cancelCallback:function(){},onConfirm:function(){this.alertDialog=!1,this.alertDialogText="",this.alertDialogTitle="",this.confirmCallback(),this.confirmCallback=function(){}},onCancel:function(){this.alertDialog=!1,this.alertDialogText="",this.alertDialogTitle="",this.cancelCallback(),this.cancelCallback=function(){},console.log("Cancelled")}},mounted:function(){var t=this;this.$nextTick(function(){t.initialize()})}},z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Cadastro Funcionario")]),t._v(" "),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),t._v(" "),a("v-spacer"),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{"prepend-icon":"search",label:"Pesquisar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.employees,pagination:t.pagination,"rows-per-page-items":t.rowsPerPageItems,"rows-per-page-text":t.rowsPerPageText,"total-items":t.totalItems,loading:t.loading},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.nome))]),t._v(" "),a("td",[t._v(t._s(e.item.sobreNome))]),t._v(" "),a("td",[t._v(t._s(e.item.email))]),t._v(" "),a("td",[t._v(t._s(e.item.nis))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[a("v-tooltip",{attrs:{bottom:""}},[a("v-btn",{staticClass:"mx-0",attrs:{slot:"activator",icon:""},nativeOn:{click:function(a){return t.editItem(e.item)}},slot:"activator"},[a("v-icon",{attrs:{color:"teal"}},[t._v("edit")])],1),t._v(" "),a("span",[t._v("Editar")])],1),t._v(" "),a("v-tooltip",{attrs:{bottom:""}},[a("v-btn",{staticClass:"mx-0",attrs:{slot:"activator",icon:""},nativeOn:{click:function(a){return t.deleteItem(e.item)}},slot:"activator"},[a("v-icon",{attrs:{color:"red"}},[t._v("delete")])],1),t._v(" "),a("span",[t._v("Remover")])],1)],1)]}},{key:"pageText",fn:function(e){var a=e.pageStart,i=e.pageStop,n=e.itemsLength;return[t._v("\n            Registro "+t._s(a)+" - "+t._s(i)+" de "+t._s(n)+"\n        ")]}}])},[t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"info",icon:"warning"},slot:"no-results"},[t._v("\n            Não foram encontrados resultados para: "+t._s(t.search)+"\n        ")]),t._v(" "),a("template",{slot:"no-data"},[a("v-alert",{attrs:{value:!0,color:"info",icon:"warning"}},[t._v("\n                Sem registros\n            ")])],1)],2),t._v(" "),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-btn",t._g({attrs:{dark:"",fab:"",fixed:"",small:"",color:"accent",bottom:"",right:""},on:{click:function(e){t.dialog=!t.dialog}}},i),[a("v-icon",[t._v("add")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t._v(" "),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),t._v(" "),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md12:""}},[a("v-text-field",{attrs:{label:"Nome",rules:[t.rules.nomeLenght,t.rules.notEmpty],counter:30,maxlength:"30"},model:{value:t.editedItem.nome,callback:function(e){t.$set(t.editedItem,"nome",e)},expression:"editedItem.nome"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md12:""}},[a("v-text-field",{attrs:{label:"Sobrenome",counter:50,maxlength:"50",rules:[t.rules.sobrenomeLenght]},model:{value:t.editedItem.sobreNome,callback:function(e){t.$set(t.editedItem,"sobreNome",e)},expression:"editedItem.sobreNome"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md12:""}},[a("v-text-field",{attrs:{label:"Email",rules:[t.rules.email]},model:{value:t.editedItem.email,callback:function(e){t.$set(t.editedItem,"email",e)},expression:"editedItem.email"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md12:""}},[a("v-text-field",{attrs:{label:"NIS (PIS)",mask:"###.#####.##-#",rules:[t.rules.nisLenght]},model:{value:t.editedItem.nis,callback:function(e){t.$set(t.editedItem,"nis",e)},expression:"editedItem.nis"}})],1)],1)],1)],1)],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"error"},on:{click:t.close}},[t._v("Cancelar")]),t._v(" "),a("v-btn",{attrs:{color:"success"},on:{click:t.save}},[t._v("Salvar")])],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.alertDialog,callback:function(e){t.alertDialog=e},expression:"alertDialog"}},[a("v-card",[a("v-card-text",[t._v(t._s(t.alertDialogText))]),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{staticClass:"red--text darken-1",attrs:{flat:"flat"},nativeOn:{click:function(e){return t.onCancel(e)}}},[t._v("Não")]),t._v(" "),a("v-btn",{staticClass:"blue--text darken-1",attrs:{flat:"flat"},nativeOn:{click:function(e){return t.onConfirm(e)}}},[t._v("Sim")])],1)],1)],1),t._v(" "),a("v-snackbar",{attrs:{block:"",timeout:t.timeout,top:!0,color:t.color},model:{value:t.alert,callback:function(e){t.alert=e},expression:"alert"}},[t._v("\n        "+t._s(t.text)+"\n        "),a("v-btn",{staticClass:"white--text",attrs:{flat:""},nativeOn:{click:function(e){t.alert=!1}}},[t._v("Fechar")])],1)],1)},N=[],S={render:z,staticRenderFns:N},O=S,$=a("VU/8"),E=n,F=$(P,O,!1,E,"data-v-ede77d3a",null),L=F.exports;o.default.use(w.a);var R=new w.a({base:"/",routes:[{path:"/",redirect:"crud"},{path:"/crud",name:"crud",component:L}]});o.default.use(l.a,{theme:{primary:"#0091EA",secondary:"#94f62f",accent:"#00897B",error:"#f44336",warning:"#ffeb3b",info:"#2196f3",success:"#4caf50"}}),o.default.use(g.a),o.default.config.productionTip=!1,o.default.prototype.api=f,new o.default({router:R,render:function(t){return t(D)}}).$mount("#app")},ViGO:function(t,e){},VqMT:function(t,e){},uTBe:function(t,e){}},["NHnr"]);